<div class="row mb-5" [formGroup]="profesionalDataForm">
    <div class="col-12">
        <p class="fs-6 border-bottom">EXPERIENCIA LABORAL</p>
    </div>

    <div class="col mt-4" formArrayName="workExperiences">
        @for(experience of workExperiences.controls; track experience; let index = $index){
            <p class="fs-6">{{index + 1}}.</p>
            <div class="row mb-2" [formGroupName]="index">
                <div class="mb-3 col-lg-6 col-md-12">
                    <label class="form-label">Puesto</label>
                    <input type="text" id="workPosition" class="form-control" formControlName="position">
                </div>

                <div class="mb-3 col-lg-6 col-md-12">
                    <label class="form-label">Descripción</label>
                    <input type="text" id="workDescription" class="form-control" formControlName="description">
                </div>
                
                <div class="mb-3 col-lg-6 col-md-12">
                    <label class="form-label">Empresa</label>
                    <input type="text" id="workCompany" class="form-control" formControlName="company">
                </div>
                
                <div class="mb-3 col-lg-6 col-md-12">
                    <label class="form-label">Ubicación</label>
                    <input type="text" id="workLocation" class="form-control" formControlName="location">
                </div>

                <div class="mb-3 col-lg-3 col-md-12">
                    <label class="form-label">Fecha Inicio</label>
                    <input type="date" id="workStartDate" class="form-control" formControlName="startDate">
                </div>
            
                <div class="mb-3 col-lg-3 col-md-12">
                    <label class="form-label">Fecha Fin</label>
                    <input type="date" id="workStartDate" class="form-control" formControlName="endDate">
                </div>

                <!--Toggle-->
                <div class="mb-3 col-6 d-flex flex-column justify-content-around">
                    <label class="form-check-label" for="flexSwitchCheckChecked">Puesto en el sector</label>
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked" checked
                            (click)="toggle()" formControlName="relatedToOurIndustry">
                    </div>
                </div>

                @if(workExperiences.at(index).get('relatedToOurIndustry')?.value){
                    <div class="mb-3 col-lg-6 col-md-12">
                        <label class="form-label">Tecnologías</label>
                        <select id="workTechnologies" class="form-select" multiple formControlName="workTechnologies">
                            <option disabled selected>Elige una o varias tecnologías</option>
                            @for(technology of technologyList; track technology.getId()){
                                <option value="{{technology.getId()}}">{{technology.getDescription()}}</option>
                            }
                        </select>
                    </div>

                    <div class="mb-3 col-lg-6 col-md-12">
                        <label class="form-label">Nivel Hiberus</label>
                        <select id="hiberusLevel" class="form-select" formControlName="hiberusLevel">
                            <option disabled selected>Elige un nivel</option>
                            @for(hiberusLevel of hiberusLevelList; track hiberusLevel.getId()){
                            <option value="{{hiberusLevel.getDescription()}}">{{hiberusLevel.getDescription()}}</option>
                            }
                        </select>
                    </div>
                }
            </div>

            <button type="button" class="btn me-4" style="background-color: #19255A; color: white;" (click)="removeWorkExperience(index)">Quitar Experiencia Laboral -</button>
        }
        <button type="button" class="btn" style="background-color: #19255A; color: white;" (click)="addWorkExperience()">Añadir
            Experiencia Laboral
            +</button>
    </div>
</div>
